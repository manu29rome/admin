import './polyfills.server.mjs';
import{w as _,z as M}from"./chunk-FUK64ECH.mjs";import{Bc as y,Ga as m,Gc as z,Ia as a,Jb as v,Ma as h,Ra as w,Va as x,X as s,Y as l,fb as o,gb as u,hb as g,ib as p,lb as b,mb as f,nb as r,ub as C,xc as V}from"./chunk-6UL7I5E6.mjs";var D=c=>({"background-color":c});function L(c,t){if(c&1){let e=b();u(0,"div",1)(1,"div",2),f("wheel",function(i){s(e);let d=r();return l(d.onWheel(i))})("mousedown",function(i){s(e);let d=r();return l(d.onMouseDown(i))})("mousemove",function(i){s(e);let d=r();return l(d.onMouseMove(i))})("mouseup",function(){s(e);let i=r();return l(i.onMouseUp())})("mouseleave",function(){s(e);let i=r();return l(i.onMouseUp())}),p(2,"img",3),u(3,"div",4)(4,"a",5)(5,"button",6),p(6,"img",7),g()(),u(7,"button",8),f("click",function(){s(e);let i=r();return l(i.closeViewer())}),p(8,"img",9),g()(),u(9,"div",10)(10,"button",11),f("click",function(){s(e);let i=r();return l(i.zoomOut())}),p(11,"img",12),g(),u(12,"button",13),f("click",function(){s(e);let i=r();return l(i.zoomIn())}),p(13,"img",14),g()()()()}if(c&2){let e=r();a(2),C("transform","translate("+e.panX+"px, "+e.panY+"px) scale("+e.zoomLevel+")"),o("src",e.imageUrl,m),a(2),o("href",e.imageUrl,m),a(),o("ngStyle",v(10,D,(e.clientData==null?null:e.clientData.ColorOne)||"#1e40af")),a(),o("src",e.iconDowland,m),a(),o("ngStyle",v(12,D,(e.clientData==null?null:e.clientData.ColorTwo)||"#374151")),a(),o("src",e.iconClosed,m),a(3),o("src",e.iconLess,m),a(2),o("src",e.iconPlus,m)}}var I=class c{constructor(t){this.authservice=t}imageUrl="";iconPlus=_.URL_FRONT.concat("/icon/default/plus.png");iconDowland=_.URL_FRONT.concat("/icon/default/dowland.png");iconLess=_.URL_FRONT.concat("/icon/default/less.png");iconClosed=_.URL_FRONT.concat("/icon/default/closed.png");clientData={};isOpen=!1;isDragging=!1;zoomLevel=1;panX=0;panY=0;lastMouseX=0;lastMouseY=0;ngOnInit(){this.colorDefaul()}colorDefaul(){let t=this.authservice.getClient();t&&(this.clientData=JSON.parse(t))}openViewer(t){this.imageUrl=t,this.isOpen=!0,this.zoomLevel=1,this.panX=0,this.panY=0}closeViewer(){this.isOpen=!1,this.zoomLevel=1,this.panX=0,this.panY=0}zoomIn(){this.zoomLevel<3&&(this.zoomLevel+=.1)}zoomOut(){this.zoomLevel>.5&&(this.zoomLevel-=.1)}onWheel(t){t.preventDefault();let e=-t.deltaY,n=.1;e>0?this.zoomLevel=Math.min(this.zoomLevel+n,5):this.zoomLevel=Math.max(this.zoomLevel-n,.2)}onMouseDown(t){this.isDragging=!0,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY}onMouseMove(t){if(!this.isDragging)return;let e=t.clientX-this.lastMouseX,n=t.clientY-this.lastMouseY;this.panX+=e,this.panY+=n,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY}onMouseUp(){this.isDragging=!1}static \u0275fac=function(e){return new(e||c)(h(M))};static \u0275cmp=w({type:c,selectors:[["app-image-viewer"]],inputs:{imageUrl:"imageUrl"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/80","backdrop-blur-sm"],[1,"relative","w-5/6","min-w-[600px]","h-full","px-4","overflow-hidden","flex","items-center","justify-center",3,"wheel","mousedown","mousemove","mouseup","mouseleave"],["alt","Imagen","draggable","false",1,"select-none","rounded-xl","shadow-2xl","transition-transform","duration-200","ease-in-out","pointer-events-none",3,"src"],[1,"absolute","top-4","right-4","flex","items-center","gap-3","z-20"],["download","",1,"group",3,"href"],["title","Descargar",1,"w-8","h-8","flex","items-center","justify-center","rounded-full","shadow-md","transition-all","duration-200","hover:scale-110",3,"ngStyle"],["alt","Descargar",1,"w-4","h-4",3,"src"],["title","Cerrar",1,"w-8","h-8","flex","items-center","justify-center","rounded-full","shadow-md","transition-all","duration-200","hover:scale-110",3,"click","ngStyle"],["alt","Cerrar",1,"w-3","h-3",3,"src"],[1,"absolute","bottom-6","left-1/2","-translate-x-1/2","flex","items-center","gap-4","z-20"],["title","Alejar",1,"w-8","h-8","flex","items-center","justify-center","bg-gray-700","text-white","rounded-full","shadow-md","transition-transform","hover:scale-110",3,"click"],["alt","Alejar",1,"w-4","h-4",3,"src"],["title","Acercar",1,"w-8","h-8","flex","items-center","justify-center","bg-gray-700","text-white","rounded-full","shadow-md","transition-transform","hover:scale-110",3,"click"],["alt","Acercar",1,"w-4","h-4",3,"src"]],template:function(e,n){e&1&&x(0,L,14,14,"div",0),e&2&&o("ngIf",n.isOpen)},dependencies:[z,V,y],styles:["button[_ngcontent-%COMP%]:hover{background-color:#0000001a;transform:scale(1.1)}.relative[_ngcontent-%COMP%]{cursor:grab}.relative[_ngcontent-%COMP%]:active{cursor:grabbing}"]})};export{I as a};
