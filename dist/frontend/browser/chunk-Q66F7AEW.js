import{T as o,Ua as a,V as r}from"./chunk-YY7SJIYX.js";var p=/[&<>"']/g,Ve=RegExp(p.source);function m(){return new l}var l=class{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,i){if(e.selected=!0,(!e.children||!t&&i)&&this._selected.push(e),t)if(e.parent){let n=e.parent.children.length,u=e.parent.children.filter(c=>c.selected).length;e.parent.selected=n===u}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),i&&this._activeChildren(e)?this._selected=[...this._selected.filter(n=>n.parent!==e),e]:this._selected=[...this._selected,...e.children.filter(n=>!n.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(i=>i!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){let i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...i.filter(n=>n!==e&&!n.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(let i of e)i.disabled||(i.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}};var g=new r("ng-select-selection-model");var Pe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=a({type:e}),e.\u0275inj=o({providers:[{provide:g,useValue:m}]});let s=e;return s})();export{Pe as a};
